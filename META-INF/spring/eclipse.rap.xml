<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xmlns:util="http://www.springframework.org/schema/util" xmlns:flow="http://www.argeo.org/schema/slc-flow"
	xsi:schemaLocation="
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd
	http://www.argeo.org/schema/slc-flow http://www.argeo.org/schema/slc-flow-0.12.xsd">

	<!-- Eclipse rap platform -->
	<!-- <flow:flow name="eclipse/org.argeo.tp.rap.platform" parent="template.importRap"> 
		<flow:arg name="rapRelease" value="2.3" /> <flow:arg name="rapTimestamp" 
		value="2.3.1-SR1-20140909-1638" /> </flow:flow> -->
	<flow:flow name="eclipse/org.argeo.tp.rap.platform" parent="template.importRap">
		<flow:arg name="rapRelease" value="2.2" />
		<flow:arg name="rapTimestamp" value="2.2.0-R-20131204-0942" />
	</flow:flow>

	<!-- Rap specs and templates -->
	<flow:spec id="rapVersion.spec">
		<flow:primitive name="rapRelease" isParameter="true" />
		<flow:primitive name="rapTimestamp" isParameter="true" />
	</flow:spec>

	<flow:flow id="template.importRap" spec="rapVersion.spec"
		abstract="true">
		<bean class="org.argeo.slc.repo.osgi.ArchiveWrapper">
			<property name="uri"
				value="http://www.eclipse.org/downloads/rt/rap/@{rapRelease}/rap-@{rapTimestamp}.zip" />
			<property name="includes">
				<map>
					<!-- Misc -->
					<entry key="plugins/com.ibm.icu.base*.jar" value="org.argeo.tp.rap.platform" />

					<!-- Javax -->
					<entry key="plugins/javax.xml_*.jar" value="org.argeo.tp.rap.platform" />
					<!-- Provided by jetty -->
					<!-- <entry key="plugins/javax.servlet_*.jar" value="org.argeo.tp.rap.platform" 
						/> -->

					<!-- Eclipse core -->
					<entry key="plugins/org.eclipse.core.*.jar" value="org.argeo.tp.rap.platform" />

					<!-- RWT -->
					<entry key="plugins/org.eclipse.rap.rwt_*.jar" value="org.argeo.tp.rap.platform" />
					<entry key="plugins/org.eclipse.rap.rwt.osgi_*.jar" value="org.argeo.tp.rap.platform" />

					<!-- RAP UI with the workbench -->
					<!-- Note: we do not include ui.cheatsheets for the time being -->
					<entry key="plugins/org.eclipse.rap.ui.workbench*.jar" value="org.argeo.tp.rap.platform" />
					<entry key="plugins/org.eclipse.rap.ui_*.jar" value="org.argeo.tp.rap.platform" />
					<entry key="plugins/org.eclipse.rap.ui.views*.jar" value="org.argeo.tp.rap.platform" />
					<entry key="plugins/org.eclipse.rap.jface*.jar" value="org.argeo.tp.rap.platform" />
					<entry key="plugins/org.eclipse.rap.ui.forms*.jar" value="org.argeo.tp.rap.platform" />
					<entry key="plugins/org.eclipse.help*.jar" value="org.argeo.tp.rap.platform" />

					<!-- Minimal Equinox dependencies, to be refined -->
					<entry key="plugins/org.eclipse.equinox.*.jar" value="org.argeo.tp.rap" />
				</map>
			</property>
			<property name="excludes">
				<list>
					<value><![CDATA[plugins/org.eclipse.equinox.console*.jar]]></value>
				</list>
			</property>
			<property name="osgiFactory" ref="osgiFactory" />
		</bean>
	</flow:flow>

	<!-- File upload Addons -->

	<!-- !!!! WARNING !!!! The corresponding zip must be manually imported in 
		corresponding workspace of the dist repo at path org/eclipse/www/downloads/rt/rap/addons/@{rapRelease}/ 
		until we implement a cleaner way to directly retrieve the corresponding jars 
		for eclipse repository -->

	<flow:flow name="eclipse/org.argeo.tp.rap.addons" parent="template.importRapAddons">
		<flow:arg name="rapRelease" value="0.5" />
		<flow:arg name="rapTimestamp" value="0.5.0.argeo.20150109" />
	</flow:flow>

	<flow:flow id="template.importRapAddons" spec="rapVersion.spec"
		abstract="true">
		<bean class="org.argeo.slc.repo.osgi.ArchiveWrapper">
			<property name="uri"
				value="http://www.eclipse.org/downloads/rt/rap/addons/@{rapRelease}/addons-@{rapTimestamp}.zip" />
			<property name="includes">
				<map>
					<entry key="plugins/org.eclipse.rap.addons.*.jar" value="org.argeo.tp.rap" />
				</map>
			</property>
			<property name="osgiFactory" ref="osgiFactory" />
		</bean>
	</flow:flow>
	<!-- !!!! WARNING !!!! The corresponding zip must be manually imported in 
		corresponding workspace of the dist repo at path org/eclipse/www/downloads/rt/rap/addons/fileupload/@{rapRelease}/ 
		until we implement a cleaner way to directly retrieve the corresponding jars 
		for eclipse repository -->

	<!-- <flow:flow name="eclipse/org.argeo.tp.rap.addons.fileupload" parent="template.importRapFileUpload"> 
		<flow:arg name="rapRelease" value="0.6" /> <flow:arg name="rapTimestamp" 
		value="0.6.0-20140611-1558" /> </flow:flow> <flow:flow id="template.importRapFileUpload" 
		spec="rapVersion.spec" abstract="true"> <bean class="org.argeo.slc.repo.osgi.ArchiveWrapper"> 
		<property name="uri" value="http://www.eclipse.org/downloads/rt/rap/addons/fileupload/@{rapRelease}/fileupload-@{rapTimestamp}.zip" 
		/> <property name="includes"> <map> <entry key="plugins/org.eclipse.rap.addons.*.jar" 
		value="org.argeo.tp.rap" /> </map> </property> <property name="osgiFactory" 
		ref="osgiFactory" /> </bean> </flow:flow> -->
</beans>